{
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "if echo '$TOOL_INPUT' | jq -r '.command' 2>/dev/null | grep -q 'git commit'; then echo 'Running pre-commit checks...'; if git diff --cached | grep -qiE '(api[_-]?key|password|secret|private[_-]?key)\\s*[=:]'; then echo 'WARNING: Possible secrets detected!'; exit 1; fi; if [ -f package.json ]; then npm test --passWithNoTests 2>/dev/null || { echo 'Tests failed!'; exit 1; }; fi; echo 'Pre-commit checks passed!'; fi"
          }
        ]
      }
    ]
  }
}
